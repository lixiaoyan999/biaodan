<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>表格</title>
</head>
<style>
	.box{
		width: 1000px;
		margin: 0 auto;
		overflow: hidden;
	}
	table{
		width: 1000px;
		margin: 0 auto;
	}
	table tr{
		width: 100%;
		height: 50px;
		text-align: center;
	}
	tr:nth-child(2n){
		background-color: #ccc;
	}
	tr:nth-child(2n + 1){
		background-color: #eaeaea;
	}
	td{
		width: 20%;
	}
	.del{
		cursor: pointer;
	}
	button{
		width: 50px;
		height: 30px;
		text-align: center;
		line-height: 30px;
		outline-style: none;
		font-weight: bold;
		float: right;
		overflow: hidden;
	}
</style>
<body>
	<div class="box">
		<table>
			<tr>
				<th>学号</th>
				<th>姓名</th>
				<th>性别</th>
				<th>年龄</th>
				<th>操作</th>
			</tr>
			<tr>
				<td>150310160</td>
				<td>张三</td>
				<td>男</td>
				<td>21</td>
				<td class="del">删除</td>
			</tr>
			<tr>
				<td>150310160</td>
				<td>张三</td>
				<td>男</td>
				<td>21</td>
				<td class="del">删除</td>
			</tr>
			<tr>
				<td>150310160</td>
				<td>张三</td>
				<td>男</td>
				<td>21</td>
				<td class="del">删除</td>
			</tr>
			<tr>
				<td>150310160</td>
				<td>张三</td>
				<td>男</td>
				<td>21</td>
				<td class="del">删除</td>
			</tr>
		</table>
		<button>添加</button>
	</div>
</body>
</html>


<script src="function.js"></script>
<script>
/*表格js:
1.获取表格
2.获取原属性值
3.清空属性值
4.添加input
5.input内容 = 元属性值
6.失去焦点时onblur将值放回td,移除表单,保存表单*/
$(function(){
	let tab = $('tbody')[0];
	let btn = $('button')[0];
	let tr = $('tr')[0];
	tab.addEventListener('dblclick',function(e){
		let element = e.target;
		if(element.nodeName == 'TD' && element.className != 'del'){
			let old = element.innerText;
			element.innerText = null;

			let inputs = document.createElement('input');
			element.appendChild(inputs);
			inputs.value = old;

			inputs.addEventListener('blur',function(){
				let news = inputs.value;
				element.removeChild(inputs);
				element.innerText = news;
			})
		}else if(element.className == 'del'){
			tab.removeChild(element.parentNode);
		}		
	})
	btn.addEventListener('click',function(){
		tab.innerHTML = tab.innerHTML +`
			<tr>
				<td></td>
				<td></td>
				<td></td>
				<td></td>
				<td class="del">删除</td>
			</tr>
		`;
	})
})


/*	window.onload = function(){
		let tab = document.querySelector('table');
		let tds = document.querySelector('td');
		tab.ondblclick = function(e){
			let element = e.target;
			if(element.nodeName == 'TD'){
				let old = element.innerText;
				element.innerText = '';

				let inputs = document.createElement('input');
				element.appendChild(inputs);
				inputs.value = old;

				inputs.onblur = function(){
					let news = inputs.value;
					element.removeChild(inputs);
					element.innerText = news;
				}
			}
		}
	}*/
</script>